<app-header></app-header>
<section [ngClass]="['product-container', 'container', 'mt-4']">
    <div [ngClass]="['row']">
        <!-- Filters -->
        <div [ngClass]="['col-md-2', 'filters-column', 'mt-4']">
            <h3>Filters <span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-funnel-fill" viewBox="0 0 16 16">
                <path d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2z"/>
              </svg></span> </h3>
            <div [ngClass]="['product-tpe-container']">
                <select #products [ngClass]="['form-select']" aria-label="Default select example"  name="products" [(ngModel)]="productType" (change)="changeProductType()">
                    <option>All</option>
                    <option>Mens</option>
                    <option>Womens</option>
                    <option>Electronics</option>
                </select>
            </div>
            <div [ngClass]="['rating-container', 'd-flex']"> 
                <div *ngFor="let i of ratingArr">
                    <img (click)="rating(i)" [ngClass]="['rating', 'mx-1', 'my-3', 'p-0']" src="../assets/star.svg" alt="rating star">
                </div>
            </div>
            <div [ngClass]="['price_range']">
                <label>{{minPrice}}</label>
                <input [ngClass]="['w-50']" type="range" [min]="minPrice" [max]="maxPrice" [(ngModel)]="rangeValue" (change)="onChangePriceRange()">
                <label>{{maxPrice}}</label>
                <div [ngClass]="['d-flex', 'justify-content-between']">
                    <input [ngClass]="['form-control','m-1']" type="text"  [value]="minPrice" readonly>
                    <input [ngClass]="['form-control','m-1']" type="text" [(ngModel)]="maxPriceInput" [value]="maxPriceInput" readonly>
                </div>
            </div>
        </div>
        <!-- Products -->
        <div [ngClass]="['col-md-10']">
            <div [ngClass]="['d-md-flex','justify-content-between']">
                <h2 [ngClass]="['pl-3']">{{productType}} Products</h2>
                <div>
                    <img [ngClass]="['filter-icon']" src="../assets/filter-right.svg">
                    <span [ngClass]="['bold']">Price</span>
                    <select [ngClass]="['price-filters']" [(ngModel)]="priceSelector" (change)="priceSelect()">
                        <option><span [ngClass]="['bold']">&nbsp; Low-High</span></option>
                        <option><span [ngClass]="['bold']">&nbsp; High-Low</span></option>
                    </select>
                </div>
            </div>
            <div [ngClass]="['products-list']">
                <div [ngClass]="['each-product','card']" *ngFor="let product of allProducts" (click)="goToProduct(product.id)">
                    <img src={{product.image}} [ngClass]="['product-image']">
                    <div>
                        <p>{{product.title}}</p>
                        <p>Price :- <span [ngClass]="['bold']">$</span>{{product.price}} <span [ngClass]="['mr-3']" style="float: right;">&nbsp;Rating:- {{product.rate}}</span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>